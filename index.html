<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portabilidad Entel</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f4f7fb;
}
header{
    background:#0057b8;
    color:white;
    padding:40px 20px;
    text-align:center;
}
header h1{
    margin:0;
    font-size:32px;
}
header p{
    font-size:18px;
}

.plans{
    display:flex;
    justify-content:center;
    gap:20px;
    padding:40px 20px;
    flex-wrap:wrap;
}
.plan{
    background:white;
    border-radius:12px;
    width:260px;
    padding:25px;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}
.plan h2{
    color:#0057b8;
}
.plan button{
    margin-top:10px;
    padding:12px 20px;
    width:100%;
    border:none;
    border-radius:8px;
    font-size:15px;
    cursor:pointer;
}
.btn-green{background:#00c853;color:white;}
.btn-blue{background:#0057b8;color:white;}

.modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
}
.modal-content{
    background:white;
    width:90%;
    max-width:420px;
    padding:25px;
    border-radius:12px;
}
.close{
    float:right;
    cursor:pointer;
    font-weight:bold;
}
.icons img, .flags img{
    width:36px;
    margin:5px;
}
.icons, .flags{text-align:center;}

input{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:6px;
    border:1px solid #ccc;
}
</style>
</head>

<body>

<header>
    <h1>Cámbiate a Entel</h1>
    <p>Planes de portabilidad con más beneficios</p>
</header>

<section class="plans">
    <div class="plan">
        <h2>S/ 39.90</h2>
        <p>75GB</p>
        <button class="btn-blue" onclick="openModal('plan1')">Ver beneficios</button>
        <button class="btn-green" onclick="openForm('Plan 39.90')">Me interesa</button>
    </div>

    <div class="plan">
        <h2>S/ 49.90</h2>
        <p>110GB</p>
        <button class="btn-blue" onclick="openModal('plan2')">Ver beneficios</button>
        <button class="btn-green" onclick="openForm('Plan 49.90')">Me interesa</button>
    </div>

    <div class="plan">
        <h2>S/ 59.90</h2>
        <p>150GB</p>
        <button class="btn-blue" onclick="openModal('plan3')">Ver beneficios</button>
        <button class="btn-green" onclick="openForm('Plan 59.90')">Me interesa</button>
    </div>
</section>

<!-- MODAL BENEFICIOS -->
<div class="modal" id="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">X</span>
        <div id="modalBody"></div>
    </div>
</div>

<!-- MODAL FORM -->
<div class="modal" id="formModal">
    <div class="modal-content">
        <span class="close" onclick="closeForm()">X</span>
        <h3>Déjanos tus datos</h3>

        <input type="text" id="nombre" placeholder="Tu nombre">
        <input type="tel" id="telefono" placeholder="Tu celular">

        <button class="btn-green" onclick="enviarFormulario()">Deseo que me llamen</button>

        <a id="whatsappLink" target="_blank">
            <button class="btn-blue">Escribirme por WhatsApp</button>
        </a>
    </div>
</div>

<script>
const SHEET_URL = "PEGAR_AQUI_URL_GOOGLE_SCRIPT";
const WHATSAPP = "https://wa.me/TU_NUMERO_AQUI";

let planSeleccionado = "";

function openModal(plan){
    let html = {
        plan1:`<h3>Plan 39.90</h3><p>75GB + 30GB x 6 meses</p>`,
        plan2:`<h3>Plan 49.90</h3><p>110GB + 30GB x 6 meses</p>`,
        plan3:`<h3>Plan 59.90</h3><p>150GB + 30GB x 6 meses</p>`
    };
    document.getElementById("modalBody").innerHTML = html[plan];
    document.getElementById("modal").style.display="flex";
}

function closeModal(){document.getElementById("modal").style.display="none";}

function openForm(plan){
    planSeleccionado = plan;
    document.getElementById("whatsappLink").href =
        WHATSAPP + "?text=Hola, estoy interesado en el " + plan;
    document.getElementById("formModal").style.display="flex";
}

function closeForm(){document.getElementById("formModal").style.display="none";}

function enviarFormulario(){
    let nombre = document.getElementById("nombre").value;
    let telefono = document.getElementById("telefono").value;

    if(nombre==="" || telefono===""){
        alert("Completa todos los campos");
        return;
    }

    fetch(SHEET_URL,{
        method:"POST",
        body:JSON.stringify({
            nombre:nombre,
            telefono:telefono,
            plan:planSeleccionado
        })
    });

    alert("Datos enviados correctamente");
    closeForm();
}
</script>

</body>
</html>
