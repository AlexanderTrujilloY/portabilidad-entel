<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portabilidad Entel</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f4f7fb;
}
header{
    background:#0057b8;
    color:white;
    padding:40px 20px;
    text-align:center;
}
header h1{
    margin:0;
    font-size:32px;
}
header p{
    font-size:18px;
}
.plans{
    display:flex;
    justify-content:center;
    gap:20px;
    padding:40px 20px;
    flex-wrap:wrap;
}
.plan{
    background:white;
    border-radius:12px;
    width:260px;
    padding:25px;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}
.plan h2{
    color:#0057b8;
}
.plan button{
    margin-top:15px;
    padding:12px 20px;
    background:#00c853;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
}
.modal{
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
}
.modal-content{
    background:white;
    width:90%;
    max-width:420px;
    padding:25px;
    border-radius:12px;
}
.close{
    float:right;
    cursor:pointer;
    font-weight:bold;
}
.icons img, .flags img{
    width:36px;
    margin:5px;
}
input{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:6px;
    border:1px solid #ccc;
}
.contact-buttons{
    display:flex;
    gap:10px;
    margin-top:15px;
}
.contact-buttons button{
    flex:1;
    padding:10px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
.call{background:#0057b8;color:white;}
.whatsapp{background:#25D366;color:white;}
</style>
</head>

<body>

<header>
    <h1>CÃ¡mbiate a Entel</h1>
    <p>Planes de portabilidad con mÃ¡s GB y beneficios</p>
</header>

<section class="plans">
    <div class="plan">
        <h2>S/ 39.90</h2>
        <p>75GB</p>
        <button onclick="openModal('Plan S/ 39.90 â€“ 75GB')">Ver beneficios</button>
    </div>
    <div class="plan">
        <h2>S/ 49.90</h2>
        <p>110GB</p>
        <button onclick="openModal('Plan S/ 49.90 â€“ 110GB')">Ver beneficios</button>
    </div>
    <div class="plan">
        <h2>S/ 59.90</h2>
        <p>150GB</p>
        <button onclick="openModal('Plan S/ 59.90 â€“ 150GB')">Ver beneficios</button>
    </div>
</section>

<div class="modal" id="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">X</span>
        <h3 id="planTitle"></h3>

        <input type="text" id="name" placeholder="Tu nombre">
        <input type="tel" id="phone" placeholder="Tu nÃºmero">

        <div class="contact-buttons">
            <button class="call" onclick="saveLead()">ðŸ“ž Deseo que me llamen</button>
            <button class="whatsapp" onclick="sendWhatsApp()">ðŸ’¬ WhatsApp</button>
        </div>
    </div>
</div>

<script>
let selectedPlan = "";
const SHEET_URL = "PEGA_AQUI_TU_URL_DE_APPS_SCRIPT";

function openModal(plan){
    selectedPlan = plan;
    document.getElementById("planTitle").innerText = plan;
    document.getElementById("modal").style.display = "flex";
}

function closeModal(){
    document.getElementById("modal").style.display = "none";
}

function sendWhatsApp(){
    let message = encodeURIComponent(
        "Hola, estoy interesado en el " + selectedPlan
    );
    window.open(
        "https://wa.me/51922547369?text=" + message,
        "_blank"
    );
}

function saveLead(){
    let nombre = document.getElementById("name").value;
    let telefono = document.getElementById("phone").value;

    if(!nombre || !telefono){
        alert("Completa nombre y nÃºmero");
        return;
    }

    fetch(SHEET_URL, {
        method: "POST",
        body: JSON.stringify({
            nombre: nombre,
            telefono: telefono,
            plan: selectedPlan
        })
    }).then(()=>{
        alert("Datos enviados correctamente");
        closeModal();
    }).catch(()=>{
        alert("Error al enviar datos");
    });
}
</script>

</body>
</html>
