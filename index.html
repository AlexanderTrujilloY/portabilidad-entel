<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Portabilidad Entel</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f4f7fb;
}
header{
    background:#0057b8;
    color:white;
    padding:40px 20px;
    text-align:center;
}
header h1{margin:0;font-size:32px;}
header p{font-size:18px;}

.plans{
    display:flex;
    justify-content:center;
    gap:20px;
    padding:40px 20px;
    flex-wrap:wrap;
}
.plan{
    background:white;
    border-radius:12px;
    width:260px;
    padding:25px;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}
.plan h2{color:#0057b8;}
.plan button{
    margin-top:15px;
    padding:12px 20px;
    background:#00c853;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
}

.modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
}
.modal-content{
    background:white;
    width:90%;
    max-width:420px;
    padding:25px;
    border-radius:12px;
    position: relative;
}
.close{
    position: absolute;
    top: 10px;
    right: 15px;
    cursor:pointer;
    font-weight:bold;
    font-size: 18px;
}

.icons, .flags{
    text-align:center;
    margin:10px 0;
}
.icons img{
    width:40px;
    margin:6px;
}
.flags img{
    width:36px;
    margin:5px;
    border-radius:4px;
}

input{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:6px;
    border:1px solid #ccc;
    font-size:15px;
}

.contact-buttons{
    display:flex;
    gap:10px;
    margin-top:15px;
}
.contact-buttons button{
    flex:1;
    padding:10px;
    border:none;
    border-radius:6px;
    font-size:14px;
    cursor:pointer;
}
.call{background:#0057b8;color:white;}
.whatsapp{background:#25D366;color:white;}

.message {
    margin-top: 12px;
    font-size: 14px;
    color: green;
    text-align: center;
}
.error {
    color: red;
}
</style>
</head>

<body>

<header>
    <h1>C√°mbiate a Entel</h1>
    <p>Planes de portabilidad con m√°s GB y beneficios</p>
</header>

<section class="plans">
    <div class="plan">
        <h2>S/ 39.90</h2>
        <p>75GB</p>
        <button onclick="openModal('plan1')">Ver beneficios</button>
    </div>
    <div class="plan">
        <h2>S/ 49.90</h2>
        <p>110GB</p>
        <button onclick="openModal('plan2')">Ver beneficios</button>
    </div>
    <div class="plan">
        <h2>S/ 59.90</h2>
        <p>150GB</p>
        <button onclick="openModal('plan3')">Ver beneficios</button>
    </div>
</section>

<div class="modal" id="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">X</span>
        <div id="modalBody"></div>

        <input type="text" id="name" placeholder="Ingresa tu nombre" />
        <input type="tel" id="phone" placeholder="Ingresa tu n√∫mero" />

        <div class="contact-buttons">
            <button class="call" onclick="callUser()">üìû Llamar</button>
            <button class="whatsapp" onclick="whatsappUser()">üí¨ WhatsApp</button>
        </div>

        <button style="margin-top:15px; width:100%; background:#0057b8; color:white; padding:12px; border:none; border-radius:6px; font-size:16px; cursor:pointer;" onclick="sendData()">Enviar mis datos para que me llamen</button>

        <div class="message" id="message"></div>
    </div>
</div>

<script>
let selectedPlan = "";

function openModal(plan) {
    selectedPlan = plan;
    let content = "";

    if (plan === "plan1") {
        content = `
        <h3>Plan S/ 39.90</h3>
        <p>üì∂ 75GB</p>
        <div class="icons">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Facebook_Messenger_4_Logo.svg" alt="Messenger">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook">
        </div>
        <p>üìû Llamadas ilimitadas</p>
        <div class="flags">
            <img src="https://flagcdn.com/w40/pe.png" alt="Per√∫">
            <img src="https://flagcdn.com/w40/cl.png" alt="Chile">
            <img src="https://flagcdn.com/w40/ca.png" alt="Canad√°">
            <img src="https://flagcdn.com/w40/us.png" alt="Estados Unidos">
        </div>
        <p>‚úâÔ∏è 500 SMS</p>
        <p>‚ûï 30GB x 6 meses</p>`;
    }

    if (plan === "plan2") {
        content = `
        <h3>Plan S/ 49.90</h3>
        <p>üì∂ 110GB</p>
        <div class="icons">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Facebook_Messenger_4_Logo.svg" alt="Messenger">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/Spotify_logo_without_text.svg" alt="Spotify">
        </div>
        <p>üìû Llamadas ilimitadas</p>
        <div class="flags">
            <img src="https://flagcdn.com/w40/pe.png" alt="Per√∫">
            <img src="https://flagcdn.com/w40/cl.png" alt="Chile">
            <img src="https://flagcdn.com/w40/ca.png" alt="Canad√°">
            <img src="https://flagcdn.com/w40/us.png" alt="Estados Unidos">
        </div>
        <p>‚úâÔ∏è 500 SMS</p>
        <p>üåç Roaming WhatsApp ilimitado</p>
        <p>‚ûï 30GB x 6 meses</p>`;
    }

    if (plan === "plan3") {
        content = `
        <h3>Plan S/ 59.90</h3>
        <p>üì∂ 150GB</p>
        <div class="icons">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Facebook_Messenger_4_Logo.svg" alt="Messenger">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/Spotify_logo_without_text.svg" alt="Spotify">
        </div>
        <p>üìû Llamadas ilimitadas</p>
        <div class="flags">
            <img src="https://flagcdn.com/w40/pe.png" alt="Per√∫">
            <img src="https://flagcdn.com/w40/cl.png" alt="Chile">
            <img src="https://flagcdn.com/w40/ca.png" alt="Canad√°">
            <img src="https://flagcdn.com/w40/us.png" alt="Estados Unidos">
        </div>
        <p>‚úâÔ∏è 500 SMS</p>
        <p>üåç Roaming 3GB + WhatsApp ilimitado</p>
        <p>‚ûï 30GB x 6 meses</p>`;
    }

    document.getElementById("modalBody").innerHTML = content;
    // Reset input fields and messages on open
    document.getElementById("name").value = "";
    document.getElementById("phone").value = "";
    document.getElementById("message").innerHTML = "";
    document.getElementById("modal").style.display = "flex";
}

function closeModal() {
    document.getElementById("modal").style.display = "none";
}

function callUser() {
    let phone = document.getElementById("phone").value.trim();
    if (phone) window.location.href = "tel:" + phone;
    else alert("Ingresa un n√∫mero v√°lido");
}

function whatsappUser() {
    // Aqu√≠ mandamos el mensaje directo a tu n√∫mero (fijo)
    window.open("https://wa.me/51922547369", "_blank");
}

function sendData() {
    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const messageDiv = document.getElementById("message");

    if (!name || !phone) {
        messageDiv.innerHTML = '<span class="error">Por favor, ingresa nombre y n√∫mero v√°lidos.</span>';
        return;
    }

    const url = "https://script.google.com/macros/s/AKfycbwhI3zAuSb4GQV_ewdJhs4uRJYhaYXaUsaTUdQHZZ5S5JeG9FXteRY677HcFyEHuA80/exec";

    // Preparar los datos para enviar
    const data = new URLSearchParams();
    data.append('nombre', name);
    data.append('telefono', phone);
    data.append('plan', selectedPlan === "plan1" ? "S/ 39.90" : selectedPlan === "plan2" ? "S/ 49.90" : "S/ 59.90");

    fetch(url, {
        method: 'POST',
        body: data,
        mode: 'no-cors', // para evitar problemas CORS con Google Apps Script (no devuelve respuesta)
    }).then(() => {
        messageDiv.innerHTML = "¬°Gracias! Tus datos han sido enviados.";
        // Limpiar campos
        document.getElementById("name").value = "";
        document.getElementById("phone").value = "";
    }).catch(() => {
        messageDiv.innerHTML = '<span class="error">Error al enviar los datos. Intenta nuevamente.</span>';
    });
}
</script>

</body>
</html>
